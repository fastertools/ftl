application:
  name: dev-workspace
  version: "0.1.0"
  description: "Local development workspace with build configurations"

# Public for local development
access: public

components:
  # Local component with build configuration
  - id: my-rust-tool
    source: "./rust-tool/target/wasm32-wasi/release/rust_tool.wasm"
    build:
      command: "cargo build --target wasm32-wasi --release"
      workdir: "./rust-tool"
      watch:
        - "src/**/*.rs"
        - "Cargo.toml"
    variables:
      DEBUG_MODE: "true"
      LOG_LEVEL: "debug"
  
  # Local TypeScript component
  - id: my-ts-tool
    source: "./ts-tool/dist/component.wasm"
    build:
      command: "npm run build"
      workdir: "./ts-tool"
      watch:
        - "src/**/*.ts"
        - "package.json"
    variables:
      API_ENDPOINT: "http://localhost:8080"
      
  # Mix with registry components
  - id: calculator
    source:
      registry: ghcr.io
      package: "example:calculator"
      version: "1.0.0"
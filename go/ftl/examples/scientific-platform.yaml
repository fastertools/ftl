# Scientific Platform Configuration
# This YAML file defines the same platform declaratively

name: scientific-platform
version: 1.0.0
description: Scientific computing platform with geo and fluid dynamics tools

# Define your MCP tools
tools:
  - id: geo
    source:
      registry: ghcr.io
      package: bowlofarugula/geo
      version: 0.0.1
    environment:
      LOG_LEVEL: info
      MAX_MEMORY: "2048"
      COMPUTE_THREADS: "4"

  - id: fluid
    source:
      registry: ghcr.io
      package: bowlofarugula/fluid
      version: 0.0.1
    environment:
      PRECISION: double
      SOLVER_TYPE: SIMPLE
      MAX_ITERATIONS: "1000"

  - id: visualizer
    source: ./visualizer.wasm
    build:
      command: cargo build --target wasm32-wasi --release
      watch:
        - src/**/*.rs
        - Cargo.toml
    environment:
      RENDER_ENGINE: webgl
      COLOR_SCHEME: scientific

# Access control - uncomment one:
# access: public  # Default - no authentication

# Enable WorkOS authentication:
access: private
auth:
  provider: workos
  org_id: org_scientific_12345
  # jwt_issuer: https://api.workos.com  # default
  # jwt_audience: scientific-platform    # defaults to app name

# Or use custom JWT authentication:
# access: private
# auth:
#   provider: custom
#   jwt_issuer: https://auth.yourcompany.com
#   jwt_audience: scientific-platform